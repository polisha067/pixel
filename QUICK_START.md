# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –®–ø–∞—Ä–≥–∞–ª–∫–∞

## ‚ö° –ó–∞ 5 –º–∏–Ω—É—Ç –¥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (2 –º–∏–Ω)
```bash
python -m venv venv
venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

### 2. Yandex Cloud (3 –º–∏–Ω)
1. –ò–¥–∏—Ç–µ –Ω–∞ https://cloud.yandex.ru/
2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–≤—Ö–æ–¥
3. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥
4. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á: IAM ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã ‚Üí –°–æ–∑–¥–∞—Ç—å ‚Üí API –∫–ª—é—á
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Folder ID –∏–∑ URL –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞—Ç–∞–ª–æ–≥–∞
6. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:
```env
YANDEX_API_KEY=AQVNxxxxx
YANDEX_FOLDER_ID=b1gxxxxx
```

---

## üìù –ü–æ—Ä—è–¥–æ–∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞ (–ø–æ —á–∞—Å–∞–º)

### –ß–ê–° 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] `backend/config.py` - –∑–∞–≥—Ä—É–∑–∫–∞ .env
- [ ] `backend/main.py` - –±–∞–∑–æ–≤—ã–π FastAPI —Å–µ—Ä–≤–µ—Ä
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—É—Å–∫: `uvicorn backend.main:app --reload`

### –ß–ê–° 2: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] `backend/database/database.py` - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SQLite
- [ ] `backend/database/models.py` - User, Letter, Employee, ChatMessage
- [ ] `backend/database/crud.py` - –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ß–ê–° 3: Yandex AI
- [ ] `backend/services/yandex_ai.py` - —Ñ—É–Ω–∫—Ü–∏—è send_request()
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ—Å—Ç–æ–º –∑–∞–ø—Ä–æ—Å–µ

### –ß–ê–° 4: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] `backend/services/classification.py` - classify_letter()
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø–∏—Å—å–º–∞

### –ß–ê–° 5: –ê–≥–µ–Ω—Ç—ã
- [ ] `backend/agents/base_agent.py` - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
- [ ] `backend/agents/complaint_agent.py` - –¥–ª—è –∂–∞–ª–æ–±
- [ ] `backend/agents/info_request_agent.py` - –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] `backend/services/generation.py` - generate_draft_response()

### –ß–ê–° 6: –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- [ ] `backend/services/routing.py` - route_letter()
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –ë–î

### –ß–ê–° 7: API - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- [ ] `backend/api/users.py` - POST /api/users/letters
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Postman –∏–ª–∏ curl

### –ß–ê–° 8: API - –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
- [ ] `backend/api/employees.py` - GET /letters, POST /chat, POST /send
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ß–ê–° 9: Frontend
- [ ] `frontend/index.html` - –≤—ã–±–æ—Ä —Ä–æ–ª–∏
- [ ] `frontend/user.html` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] `frontend/employee.html` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
- [ ] `frontend/js/api.js` - —Ñ—É–Ω–∫—Ü–∏–∏ API
- [ ] `frontend/js/user.js` - –ª–æ–≥–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] `frontend/js/employee.js` - –ª–æ–≥–∏–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

### –ß–ê–° 10: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ + –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] `backend/api/statistics.py` - —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [ ] `frontend/statistics.html` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Ñ–ª–æ—É
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥–∏

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã

### –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
```
–û–ø—Ä–µ–¥–µ–ª–∏ —Ç–∏–ø –ø–∏—Å—å–º–∞. –û—Ç–≤–µ—Ç—å –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º: regulatory, complaint, info_request, partnership, approval, notification

–ü–∏—Å—å–º–æ: {text}
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ (–∂–∞–ª–æ–±–∞)
```
–¢—ã –ø–∏—à–µ—à—å –æ—Ç–≤–µ—Ç –±–∞–Ω–∫–∞ –Ω–∞ –∂–∞–ª–æ–±—É –∫–ª–∏–µ–Ω—Ç–∞.
–°—Ç–∏–ª—å: –∫–ª–∏–µ–Ω—Ç–æ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –∏–∑–≤–∏–Ω—è—é—â–∏–π—Å—è
–¢–æ–Ω: –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –ø–æ–Ω–∏–º–∞—é—â–∏–π
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ: –∏–∑–≤–∏–Ω–µ–Ω–∏—è, –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è

–í—Ö–æ–¥—è—â–µ–µ –ø–∏—Å—å–º–æ: {letter_text}
–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –æ—Ç–≤–µ—Ç.
```

### –ß–∞—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```
–¢—ã –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –±–∞–Ω–∫–∞.

–ò—Å—Ö–æ–¥–Ω–æ–µ –ø–∏—Å—å–º–æ: {original_letter}
–¢–µ–∫—É—â–∏–π —á–µ—Ä–Ω–æ–≤–∏–∫: {draft_response}
–ò—Å—Ç–æ—Ä–∏—è: {chat_history}

–°–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø—Ä–æ—Å–∏—Ç: {employee_message}

–ü—Ä–µ–¥–ª–æ–∂–∏ —É–ª—É—á—à–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –æ—Ç–≤–µ—Ç–∞.
```

---

## üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
```python
# –í –ë–î —Å–æ–∑–¥–∞—Ç—å:
User(name="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤", email="ivan@test.ru", role="user")
User(name="–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤", email="petr@test.ru", role="employee")
Employee(user_id=2, department="–û—Ç–¥–µ–ª –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è", specialization="customer_service")
```

### –¢–µ—Å—Ç–æ–≤–æ–µ –ø–∏—Å—å–º–æ (–∂–∞–ª–æ–±–∞)
```
–£–≤–∞–∂–∞–µ–º—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –±–∞–Ω–∫–∞!

–Ø –∫–ª–∏–µ–Ω—Ç –≤–∞—à–µ–≥–æ –±–∞–Ω–∫–∞ —É–∂–µ 5 –ª–µ—Ç. –í—á–µ—Ä–∞ —è –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ —Å –º–æ–µ–≥–æ —Å—á–µ—Ç–∞ –±—ã–ª–∞ —Å–ø–∏—Å–∞–Ω–∞ —Å—É–º–º–∞ 5000 —Ä—É–±–ª–µ–π –±–µ–∑ –º–æ–µ–≥–æ –≤–µ–¥–æ–º–∞. –Ø –Ω–µ —Å–æ–≤–µ—Ä—à–∞–ª –Ω–∏–∫–∞–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å.

–ü—Ä–æ—à—É —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ —Å–∏—Ç—É–∞—Ü–∏–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ –º–æ–π —Å—á–µ—Ç.

–° —É–≤–∞–∂–µ–Ω–∏–µ–º,
–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
```

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: Yandex API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å Folder ID
- –ß—Ç–æ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –≤–∫–ª—é—á–µ–Ω YandexGPT

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∞
**–†–µ—à–µ–Ω–∏–µ:** –í `main.py` –¥–æ–±–∞–≤—å—Ç–µ:
```python
from fastapi.middleware.cors import CORSMiddleware
app.add_middleware(CORSMiddleware, allow_origins=["*"])
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–î –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç–µ `database.create_tables()` –≤ `main.py`

---

## üìû –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- FastAPI: https://fastapi.tiangolo.com/
- YandexGPT API: https://cloud.yandex.ru/docs/yandexgpt/
- SQLAlchemy: https://docs.sqlalchemy.org/

---

**–£–¥–∞—á–∏! üöÄ**

