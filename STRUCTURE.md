# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ - –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

## üìÅ –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
pixel/
‚îÇ
‚îú‚îÄ‚îÄ backend/                          # Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                   # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ main.py                       # ‚≠ê –¢–û–ß–ö–ê –í–•–û–î–ê - –∑–∞–ø—É—Å–∫ FastAPI —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py                     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (API –∫–ª—é—á–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ database/                     # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py               # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite, —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py                 # SQLAlchemy –º–æ–¥–µ–ª–∏ (User, Letter, Employee, ChatMessage)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ crud.py                   # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —á—Ç–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ api/                          # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ä–æ—É—Ç–µ—Ä—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py                   # POST /api/auth/login - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users.py                  # API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îÇ                              #   POST /api/users/letters - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ
‚îÇ   ‚îÇ   ‚îÇ                              #   GET /api/users/letters - –º–æ–∏ –ø–∏—Å—å–º–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ employees.py              # API –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
‚îÇ   ‚îÇ   ‚îÇ                              #   GET /api/employees/letters - –º–æ–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞
‚îÇ   ‚îÇ   ‚îÇ                              #   GET /api/employees/letters/{id} - –ø–æ–ª—É—á–∏—Ç—å –ø–∏—Å—å–º–æ
‚îÇ   ‚îÇ   ‚îÇ                              #   POST /api/employees/letters/{id}/chat - —á–∞—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îÇ                              #   POST /api/employees/letters/{id}/send - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ statistics.py             # GET /api/statistics/* - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/                     # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ yandex_ai.py              # ‚≠ê –†–∞–±–æ—Ç–∞ —Å Yandex Cloud AI API
‚îÇ   ‚îÇ   ‚îÇ                              #   - send_request_to_yandex() - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ classification.py         # –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∏—Å–µ–º –ø–æ —Ç–∏–ø–∞–º
‚îÇ   ‚îÇ   ‚îÇ                              #   - classify_letter() - –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø–∏—Å—å–º–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generation.py             # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îÇ                              #   - generate_draft_response() - —Å–æ–∑–¥–∞—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routing.py                # –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
‚îÇ   ‚îÇ                                  #   - route_letter() - –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ agents/                       # AI –∞–≥–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–∏—Å–µ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base_agent.py             # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ regulatory_agent.py       # –ê–≥–µ–Ω—Ç –¥–ª—è —Ä–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ complaint_agent.py        # –ê–≥–µ–Ω—Ç –¥–ª—è –∂–∞–ª–æ–±
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ info_request_agent.py     # –ê–≥–µ–Ω—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ partnership_agent.py      # –ê–≥–µ–Ω—Ç –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ approval_agent.py         # –ê–≥–µ–Ω—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ schemas/                      # Pydantic —Å—Ö–µ–º—ã (–≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ user.py                   # UserCreate, UserResponse
‚îÇ       ‚îú‚îÄ‚îÄ letter.py                 # LetterCreate, LetterResponse, LetterUpdate
‚îÇ       ‚îî‚îÄ‚îÄ statistics.py             # StatisticsResponse
‚îÇ
‚îú‚îÄ‚îÄ frontend/                         # Frontend (HTML + CSS + JavaScript)
‚îÇ   ‚îú‚îÄ‚îÄ index.html                    # ‚≠ê –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –≤—ã–±–æ—Ä —Ä–æ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ user.html                     # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ employee.html                 # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ statistics.html               # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.css                 # –°—Ç–∏–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îú‚îÄ‚îÄ api.js                    # ‚≠ê –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
‚îÇ       ‚îÇ                              #   - sendLetter(), getMyLetters()
‚îÇ       ‚îÇ                              #   - getEmployeeLetters(), sendChatMessage()
‚îÇ       ‚îú‚îÄ‚îÄ user.js                   # –õ–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ       ‚îú‚îÄ‚îÄ employee.js               # –õ–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ statistics.js             # –õ–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ .env                              # ‚ö†Ô∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (API –∫–ª—é—á–∏)
‚îÇ                                      #   YANDEX_API_KEY=your_key_here
‚îÇ                                      #   YANDEX_FOLDER_ID=your_folder_id
‚îÇ
‚îú‚îÄ‚îÄ .gitignore                        # –§–∞–π–ª—ã –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è Git
‚îú‚îÄ‚îÄ requirements.txt                  # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md                         # –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ PLAN_1DAY.md                      # –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ 1 –¥–µ–Ω—å
‚îî‚îÄ‚îÄ STRUCTURE.md                      # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üìù –û–ø–∏—Å–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

### Backend

#### `backend/main.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∑–∞–ø—É—Å–∫ FastAPI —Å–µ—Ä–≤–µ—Ä–∞

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- –°–æ–∑–¥–∞–Ω–∏–µ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤ (auth, users, employees, statistics)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CORS –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º
- –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ uvicorn

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```python
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from api import auth, users, employees, statistics

app = FastAPI()

# CORS
app.add_middleware(...)

# –†–æ—É—Ç–µ—Ä—ã
app.include_router(auth.router)
app.include_router(users.router)
app.include_router(employees.router)
app.include_router(statistics.router)
```

---

#### `backend/config.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ .env —Ñ–∞–π–ª–∞

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- –ó–∞–≥—Ä—É–∑–∫–∞ YANDEX_API_KEY
- –ó–∞–≥—Ä—É–∑–∫–∞ YANDEX_FOLDER_ID
- –î—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

#### `backend/database/models.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è SQLAlchemy

**–¢–∞–±–ª–∏—Ü—ã:**
1. **User** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - id, name, email, role (user/employee), created_at

2. **Employee** - —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ User)
   - id, user_id, department, specialization (regulatory_affairs, customer_service, etc.)

3. **Letter** - –ø–∏—Å—å–º–∞/–æ–±—Ä–∞—â–µ–Ω–∏—è
   - id, text, classification (—Ç–∏–ø), status (waiting/in_progress/sent)
   - user_id, employee_id
   - draft_response (—á–µ—Ä–Ω–æ–≤–∏–∫ –æ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏)
   - final_response (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç)
   - created_at, updated_at

4. **ChatMessage** - —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - id, letter_id, role (employee/assistant), message, timestamp

---

#### `backend/services/yandex_ai.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞–±–æ—Ç–∞ —Å Yandex Cloud AI API

**–§—É–Ω–∫—Ü–∏–∏:**
- `send_request(prompt: str) -> str` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∫ YandexGPT –∏ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç

**–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å YandexGPT API —á–µ—Ä–µ–∑ requests

---

#### `backend/services/classification.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –ø–∏—Å–µ–º

**–§—É–Ω–∫—Ü–∏–∏:**
- `classify_letter(text: str) -> str` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–∏–ø: regulatory, complaint, info_request, partnership, approval, notification

**–ü—Ä–æ–º–ø—Ç:**
```
–û–ø—Ä–µ–¥–µ–ª–∏ —Ç–∏–ø –ø–∏—Å—å–º–∞. –û—Ç–≤–µ—Ç—å –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º: regulatory, complaint, info_request, partnership, approval, notification

–ü–∏—Å—å–º–æ: {text}
```

---

#### `backend/agents/base_agent.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤

**–ú–µ—Ç–æ–¥—ã:**
- `generate_response(letter_text: str) -> str` - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç

**–ù–∞—Å–ª–µ–¥—É—é—Ç:**
- regulatory_agent.py
- complaint_agent.py
- info_request_agent.py
- partnership_agent.py
- approval_agent.py

–ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π –ø—Ä–æ–º–ø—Ç —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ —Å—Ç–∏–ª—é.

---

#### `backend/services/generation.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –æ—Ç–≤–µ—Ç–∞

**–§—É–Ω–∫—Ü–∏–∏:**
- `generate_draft_response(letter_text: str, classification: str) -> str`
  - –í—ã–±–∏—Ä–∞–µ—Ç –Ω—É–∂–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ –ø–æ classification
  - –í—ã–∑—ã–≤–∞–µ—Ç agent.generate_response()
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫

---

#### `backend/services/routing.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–∏—Å—å–º–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É

**–§—É–Ω–∫—Ü–∏–∏:**
- `route_letter(classification: str) -> Employee`
  - –ú–∞–ø–ø–∏–Ω–≥: classification ‚Üí specialization
  - –ù–∞—Ö–æ–¥–∏—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —Å –Ω—É–∂–Ω–æ–π specialization
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Employee

**–ú–∞–ø–ø–∏–Ω–≥:**
- regulatory ‚Üí "regulatory_affairs"
- complaint ‚Üí "customer_service"
- info_request ‚Üí "information_department"
- partnership ‚Üí "business_development"
- approval ‚Üí "legal_department"

---

#### `backend/api/users.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `POST /api/users/letters` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: text (—Ç–µ–∫—Å—Ç –ø–∏—Å—å–º–∞)
  - –î–µ–π—Å—Ç–≤–∏—è:
    1. –°–æ–∑–¥–∞–µ—Ç Letter
    2. –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ classification.classify_letter()
    3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ —á–µ—Ä–µ–∑ generation.generate_draft_response()
    4. –ù–∞–∑–Ω–∞—á–∞–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ —á–µ—Ä–µ–∑ routing.route_letter()
    5. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: LetterResponse

- `GET /api/users/letters` - –ø–æ–ª—É—á–∏—Ç—å –º–æ–∏ –ø–∏—Å—å–º–∞
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–∏—Å–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

#### `backend/api/employees.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** API –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /api/employees/letters` - –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞
  - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (waiting, in_progress, sent)
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–∏—Å–µ–º

- `GET /api/employees/letters/{id}` - –ø–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–∏—Å—å–º–æ
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∏—Å—å–º–æ —Å —á–µ—Ä–Ω–æ–≤–∏–∫–æ–º –æ—Ç–≤–µ—Ç–∞

- `POST /api/employees/letters/{id}/chat` - —á–∞—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: message (—Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞)
  - –î–µ–π—Å—Ç–≤–∏—è:
    1. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –≤ ChatMessage
    2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ YandexGPT —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (–ø–∏—Å—å–º–æ, —á–µ—Ä–Ω–æ–≤–∏–∫, –∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞)
    3. –ü–æ–ª—É—á–∞–µ—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
    4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –≤ ChatMessage
    5. –û–±–Ω–æ–≤–ª—è–µ—Ç draft_response –≤ Letter
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: —É–ª—É—á—à–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç

- `POST /api/employees/letters/{id}/send` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
  - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç: final_response (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç)
  - –î–µ–π—Å—Ç–≤–∏—è:
    1. –û–±–Ω–æ–≤–ª—è–µ—Ç Letter: final_response, status = "sent"
    2. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: —É—Å–ø–µ—Ö

---

#### `backend/api/statistics.py`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** API —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /api/statistics/overview` - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/statistics/by_type` - –ø–æ —Ç–∏–ø–∞–º –ø–∏—Å–µ–º
- `GET /api/statistics/by_status` - –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º

---

### Frontend

#### `frontend/index.html`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - –≤—ã–±–æ—Ä —Ä–æ–ª–∏

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ "–ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–µ–ª–æ–≤–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏"
- –ö–Ω–æ–ø–∫–∞ "–Ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ user.html
- –ö–Ω–æ–ø–∫–∞ "–Ø —Å–æ—Ç—Ä—É–¥–Ω–∏–∫" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ employee.html
- –ö–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞" ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ statistics.html

---

#### `frontend/user.html`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
1. **–§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å—å–º–∞:**
   - Textarea –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –ø–∏—Å—å–º–∞
   - –ö–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å"

2. **–°–ø–∏—Å–æ–∫ –º–æ–∏—Ö –ø–∏—Å–µ–º:**
   - –¢–∞–±–ª–∏—Ü–∞/—Å–ø–∏—Å–æ–∫ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
     - –¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞
     - –°—Ç–∞—Ç—É—Å (waiting, in_progress, sent)
     - –î–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
     - –û—Ç–≤–µ—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

#### `frontend/employee.html`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
1. **–°–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø–∏—Å–µ–º:**
   - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (waiting, in_progress, sent)
   - –¢–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
     - –¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞
     - –¢–∏–ø
     - –°—Ç–∞—Ç—É—Å
     - –î–∞—Ç–∞

2. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ/–ø–∞–Ω–µ–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∏—Å—å–º–æ–º:**
   - –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –ø–∏—Å—å–º–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è:
     - –¢–µ–∫—Å—Ç –≤—Ö–æ–¥—è—â–µ–≥–æ –ø–∏—Å—å–º–∞
     - –ß–µ—Ä–Ω–æ–≤–∏–∫ –æ—Ç–≤–µ—Ç–∞ –æ—Ç –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
     - –ß–∞—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
       - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
       - –ü–æ–ª–µ –≤–≤–æ–¥–∞
       - –ö–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —á–∞—Ç"
     - –¢–µ–∫—É—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞ (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ)
     - –ö–Ω–æ–ø–∫–∞ "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç"

---

#### `frontend/js/api.js`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API

**–§—É–Ω–∫—Ü–∏–∏:**
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
async function sendLetter(text) { ... }
async function getMyLetters() { ... }

// –°–æ—Ç—Ä—É–¥–Ω–∏–∫
async function getEmployeeLetters(status = null) { ... }
async function getLetterById(id) { ... }
async function sendChatMessage(letterId, message) { ... }
async function sendFinalResponse(letterId, response) { ... }

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
async function getStatistics() { ... }
```

---

## üîÑ –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã (User Flow)

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–∏—Å—å–º–æ
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí user.html ‚Üí –≤–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç ‚Üí sendLetter() ‚Üí 
‚Üí POST /api/users/letters ‚Üí 
‚Üí classification.classify_letter() ‚Üí 
‚Üí generation.generate_draft_response() ‚Üí 
‚Üí routing.route_letter() ‚Üí 
‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î ‚Üí 
‚Üí –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
```

### 2. –°–æ—Ç—Ä—É–¥–Ω–∏–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–∏—Å—å–º–æ–º
```
–°–æ—Ç—Ä—É–¥–Ω–∏–∫ ‚Üí employee.html ‚Üí –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –ø–∏—Å–µ–º ‚Üí 
‚Üí –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –ø–∏—Å—å–º–æ ‚Üí getLetterById() ‚Üí 
‚Üí GET /api/employees/letters/{id} ‚Üí 
‚Üí –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–∞–Ω–µ–ª—å —Å –ø–∏—Å—å–º–æ–º –∏ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–º
```

### 3. –°–æ—Ç—Ä—É–¥–Ω–∏–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ —á–∞—Ç
```
–°–æ—Ç—Ä—É–¥–Ω–∏–∫ ‚Üí –≤–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç ‚Üí sendChatMessage() ‚Üí 
‚Üí POST /api/employees/letters/{id}/chat ‚Üí 
‚Üí yandex_ai.send_request() —Å –ø—Ä–æ–º–ø—Ç–æ–º –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Üí 
‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ draft_response ‚Üí 
‚Üí –í–æ–∑–≤—Ä–∞—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ ‚Üí 
‚Üí –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
```

### 4. –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
```
–°–æ—Ç—Ä—É–¥–Ω–∏–∫ ‚Üí –Ω–∞–∂–∏–º–∞–µ—Ç "–û—Ç–ø—Ä–∞–≤–∏—Ç—å" ‚Üí sendFinalResponse() ‚Üí 
‚Üí POST /api/employees/letters/{id}/send ‚Üí 
‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Letter (final_response, status = "sent") ‚Üí 
‚Üí –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ—Ç–≤–µ—Ç
```

---

## üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ö—Ä–∏—Ç–∏—á–Ω–æ (Must Have):
1. ‚úÖ Backend: main.py, config.py
2. ‚úÖ Database: models.py, database.py
3. ‚úÖ Services: yandex_ai.py, classification.py
4. ‚úÖ API: users.py (POST /letters), employees.py (GET /letters, POST /chat, POST /send)
5. ‚úÖ Frontend: index.html, user.html, employee.html
6. ‚úÖ JS: api.js, user.js, employee.js

### –í–∞–∂–Ω–æ (Should Have):
7. ‚≠ê Agents: base_agent.py + —Ö–æ—Ç—è –±—ã 2-3 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–∞
8. ‚≠ê Statistics: –±–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
9. ‚≠ê –°—Ç–∞—Ç—É—Å—ã: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤

### –ú–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å (Nice to Have):
10. üìå –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
11. üìå –í—Å–µ 6 –∞–≥–µ–Ω—Ç–æ–≤ (–º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å 3-4)
12. üìå –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω (–º–æ–∂–Ω–æ –±–∞–∑–æ–≤—ã–π)

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ:** –°–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π—Ç–µ –±–∞–∑–æ–≤—É—é –≤–µ—Ä—Å–∏—é –±–µ–∑ –≤—Å–µ—Ö —Ñ–∏—á
2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ—à–∞–≥–æ–≤–æ:** –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–±–æ—Ç—É
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã:** FastAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è
4. **–ù–µ –∏–¥–µ–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ:** –î–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞ –≤–∞–∂–Ω–µ–µ –ø–æ–∫–∞–∑–∞—Ç—å –∏–¥–µ—é
5. **–ö–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∫–æ–¥:** –û—Å–æ–±–µ–Ω–Ω–æ —Å–ª–æ–∂–Ω—ã–µ –º–µ—Å—Ç–∞

---

**–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! üöÄ**

